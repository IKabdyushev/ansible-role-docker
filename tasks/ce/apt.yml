---
- name: Docker | CE | APT | Remove old repo lxc-docker
  apt:
    name:
      - docker
      - docker-engine
      - docker-io
    state: absent

- name: Docker | CE | APT | Install Prerequisits for APT
  apt:
    name:
      - apt-transport-https
      - ca-certificates
      - curl
      - software-properties-common
      - gnupg2
    state: present

- name: Docker | CE | APT | Perform specific os tasks
  include: os/{{ ansible_distribution|lower }}.yml

- name: Docker | CE | APT | Remove old repo lxc-docker
  apt:
    name:
      - docker
      - docker-engine
      - docker-io
    state: absent

- name: Docker | CE | APT | Install docker-ce
  apt: name=docker-ce state=present
  notify: Docker | Restart Docker
